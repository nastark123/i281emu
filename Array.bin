; Array
;
; Assembly version


.data
array   BYTE    1, 2, 3, 4


.code
        LOADI  A, 0
        STORE  [array + 0], A
        LOAD   B, [array + 1]
        ADDI   B, 5
        STORE  [array + 1], B
        LOAD   C, [array + 2]
        SUBI   C, 1
        STORE  [array + 2], C
        LOAD   D, [array + 3]
        ADD    D, C                ; array[2] is already in C
        STORE  [array + 3], D                


; Register allocation:
; 
; A: array[0]
; B: array[1] 
; C: array[2]
; D: array[3]
;
; This really needs only two registers, 
; but the long version is easier to read.

-----MACHINE CODE-----
0011_00_00_00000000
1010_00_00_00000000
1000_01_00_00000001
0101_01_00_00000101
1010_01_00_00000001
1000_10_00_00000010
0111_10_00_00000001
1010_10_00_00000010
1000_11_00_00000011
0100_11_10_00000000
1010_11_00_00000011

-----DATA SEGMENT-----
[1, 2, 3, 4]
---------DEBUG--------
Branch Destinations:
{}
{array=0}
